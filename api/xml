doc = minidom.Document()
        lstRespuestas = doc.createElement('lista_respuestas')
        doc.appendChild(lstRespuestas)

        respuesta = doc.createElement('respuesta')
        lstRespuestas.appendChild(respuesta)
        
        for fecha in lstFechas:
            print("acta" + fecha)
            noMensajes = 0
            noMPositivos = 0
            noMNegativos = 0
            noMNeutros = 0
            for mensaje in self.mensajes:
                print('f'+mensaje.fecha)
                print(str(fecha))
                if mensaje.fecha == fecha:
                    date = mensaje.fecha
                    print(mensaje.nombreEmpresa)
                    noMensajes +=1
                    if mensaje.tMensaje == 'positivo':
                        noMPositivos += 1
                    elif mensaje.tMensaje == 'negativo':
                        noMNegativos += 1
                    else:
                        noMNeutros += 1

                    fecha = doc.createElement('fecha')
                    respuesta.appendChild(fecha)
                    fecha.appendChild(doc.createTextNode(''+ str(date) +''))

                    mensajes = doc.createElement('mensajes')
                    respuesta.appendChild(mensajes)

                    total = doc.createElement('total')
                    mensajes.appendChild(total)
                    total.appendChild(doc.createTextNode(''+str(noMensajes)+''))

                    positivos = doc.createElement('positivos')
                    mensajes.appendChild(positivos)
                    positivos.appendChild(doc.createTextNode(''+str(noMPositivos)+''))

                    negativos = doc.createElement('negativos')
                    mensajes.appendChild(negativos)
                    negativos.appendChild(doc.createTextNode(''+str(noMNegativos)+''))

                    neutros = doc.createElement('neutros')
                    mensajes.appendChild(neutros)
                    neutros.appendChild(doc.createTextNode(''+str(noMNeutros)+''))

                    analisis = doc.createElement('analisis')
                    respuesta.appendChild(analisis)

                    #SEPARACIÓN DE MSJS POR EMPRESAAAAAAAAAAA-------------
                    for e in self.empresas:
                        if mensaje.nombreEmpresa == e.nombre:
                                noMensajes2 = 0
                                noMPositivos2 = 0
                                noMNegativos2 = 0
                                noMNeutros2 = 0
                                noMensajes2 +=1
                                if mensaje.tMensaje == 'positivo':
                                    noMPositivos2 += 1
                                elif mensaje.tMensaje == 'negativo':
                                    noMNegativos2 += 1
                                else:
                                    noMNeutros2 += 1

                                empresa = doc.createElement('empresa')
                                analisis.appendChild(empresa)

                                empresa.setAttribute('nombre', ''+e.nombre+'')

                                mensajes = doc.createElement('mensajes')
                                empresa.appendChild(mensajes)

                                total = doc.createElement('total')
                                mensajes.appendChild(total)
                                total.appendChild(doc.createTextNode(''+str(noMensajes2)+''))

                                positivos = doc.createElement('positivos')
                                mensajes.appendChild(positivos)
                                positivos.appendChild(doc.createTextNode(''+str(noMPositivos2)+''))

                                negativos = doc.createElement('negativos')
                                mensajes.appendChild(negativos)
                                negativos.appendChild(doc.createTextNode(''+str(noMNegativos2)+''))

                                neutros = doc.createElement('neutros')
                                mensajes.appendChild(neutros)
                                neutros.appendChild(doc.createTextNode(''+str(noMNeutros2)+''))

                                servicios = doc.createElement('servicios')
                                empresa.appendChild(servicios)

                                for s in e.servicios:
                                    if mensaje.tServicio == s.tipo:
                                        noMensajes3 = 0
                                        noMPositivos3 = 0
                                        noMNegativos3 = 0
                                        noMNeutros3 = 0
                                        noMensajes3 +=1
                                        if mensaje.tMensaje == 'positivo':
                                            noMPositivos3 += 1
                                        elif mensaje.tMensaje == 'negativo':
                                            noMNegativos3 += 1
                                        else:
                                            noMNeutros3 += 1

                                        servicio = doc.createElement('servicio')
                                        servicios.appendChild(servicio)

                                        servicio.setAttribute('nombre', 'inscripción')

                                        mensajes = doc.createElement('mensajes')
                                        servicio.appendChild(mensajes)

                                        total = doc.createElement('total')
                                        mensajes.appendChild(total)
                                        total.appendChild(doc.createTextNode(''+str(noMensajes3)+''))

                                        positivos = doc.createElement('positivos')
                                        mensajes.appendChild(positivos)
                                        positivos.appendChild(doc.createTextNode(''+str(noMPositivos3)+''))

                                        negativos = doc.createElement('negativos')
                                        mensajes.appendChild(negativos)
                                        negativos.appendChild(doc.createTextNode(''+str(noMNegativos3)+''))

                                        neutros = doc.createElement('neutros')
                                        mensajes.appendChild(neutros)
                                        neutros.appendChild(doc.createTextNode(''+str(noMNeutros3)+''))
                        else:
                            print()           
                            

        xml_str = doc.toprettyxml(indent ="\t") 
        
        save_path_file = "analisis.xml"
        
        with open(save_path_file, "w", encoding='utf-8') as f:
            f.write(xml_str)